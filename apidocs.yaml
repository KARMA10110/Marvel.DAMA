openapi: 3.0.4
info:
  title: API de personajes de Marvel Rivals
  description: |
    Una API desarrollada en Python que permite gestionar personajes del universo Marvel Rivals. El proyecto permite agregar personajes nuevos, realizar paginaci贸n de resultados, y est谩 conectado con X (Twitter) para obtener publicaciones recientes relacionadas con Marvel Rivals.
    
    ### Equipo DAMA
    - Diana Carolina Garcia
    - Alvaro Fabian Ovalle
    - Maria Fernanda Moran
    - Allan Daniel Soria
    
    [MarvelRivals.git](https://github.com/carolmtz-idk/Marvel-Rivals-DAMA/tree/main)
    
  version: 1.0.0
servers:
  - url: http://localhost:8000/
paths:
  /personajes:
    get:
      tags:
        - personajes
      summary: Trae la lista de personajes
      description: Esta funci贸n devuelve una lista de personajes del universo Marvel Rivals cuando la solicitud es exitosa, con un c贸digo de estado 200. La respuesta est谩 en formato JSON y contiene varios personajes, cada uno representado por un conjunto de datos que incluye su identificador, nombre, universo al que pertenece, rol dentro del juego, armas que utiliza, nivel de salud, y la fecha en que fue creado. Adem谩s, cada personaje tiene un origen, el cual est谩 compuesto por un nombre y una direcci贸n web. Esta estructura permite obtener informaci贸n detallada de cada personaje de forma organizada.
      operationId: getPersonajesList
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            example: 1
          description: Pagina de la lista de elementos, cada pagina es de 10 
      responses:
        '200':
          description: Lista de personajes de Marvel Rivals
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Personajes'  
  /personajes/media:                
    get:
      tags:
        - personajes
      summary: Obtener tuits con medios relacionados con Marvel Rivals
      description: Esta funci贸n devuelve una lista de tuits que contienen medios cuando la solicitud es v谩lida, con un c贸digo de estado 200. La respuesta est谩 en formato JSON y presenta un arreglo de objetos, donde cada tuit incluye su identificador, el texto del mensaje y el autor que lo public贸. Si la solicitud falla por falta de autenticaci贸n o por un token inv谩lido, se devuelve un error con el c贸digo 401, acompa帽ado de un mensaje de error y un detalle que incluye informaci贸n como el t铆tulo del error, tipo, estado y una descripci贸n m谩s espec铆fica. En caso de que se realicen demasiadas solicitudes a la API de Twitter en poco tiempo, se genera un error con c贸digo 429 que tambi茅n contiene un mensaje y detalles similares sobre la limitaci贸n de acceso.
      operationId: getTuitsConMedios
      responses:
        '200':
          description: Lista de tuits con medios
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Tweets'
        '429':
          description: Demasiadas solicitudes a la API de Twitter
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TwitterErrorResponse'
        '401':
          description: No autorizado. Token de acceso inv谩lido o ausente.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TwitterUnauthorizedResponse'
  /personajes/ElementosPOST:
    post:
      tags:
        - personajes
      summary: Crear nuevo personaje
      description: Esta funci贸n permite crear un nuevo personaje del universo Marvel Rivals mediante una solicitud en formato JSON que incluye los datos obligatorios del personaje, como su nombre, universo, rol, armas, salud y un objeto anidado llamado origen con su respectivo nombre y URL. Si la creaci贸n es exitosa, la respuesta devuelve un c贸digo de estado 200 junto con un mensaje de confirmaci贸n y los datos completos del personaje reci茅n creado, incluyendo un identificador 煤nico y la fecha de creaci贸n. Esta operaci贸n facilita el registro de nuevos personajes en el sistema de forma estructurada.
      operationId: crearPersonaje
      requestBody:
        description: Personaje a crear
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PersonajesReqBody'
      responses:
        '200':
          description: Personaje creado exitosamente
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/PersonajeRespuestaExitosa'
        '422':
            description: Datos Invalidos
        default:
            description: El campo 'Nombre' es requerido. Field required
            content:
              application/json:
                schema:
                  $ref: '#/components/schemas/PersonajesResError'
        '409':
          description: Este personaje ya existe.
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/PersonajeYaExiste'


  /personajes/{id}:
    get:
      summary: Obtener un personaje por ID
      description: Esta funci贸n permite obtener la informaci贸n detallada de un personaje espec铆fico del universo Marvel Rivals. Cuando la solicitud es exitosa, devuelve un c贸digo de estado 200 junto con un objeto en formato JSON que contiene todos los datos del personaje, como su identificador, nombre, universo, rol, armas, salud, origen (con nombre y URL) y la fecha de creaci贸n. En caso de que el personaje no exista en el sistema, la API responde con un c贸digo de estado 404 y un mensaje en el campo "detail" que indica que el personaje no fue encontrado.
      operationId: obtenerPersonaje
      tags:
        - personajes
      parameters:
        - name: id
          in: path
          required: true
          description: ID del personaje a buscar
          schema:
            type: integer
            example: 1
      responses:
        '200':
          description: Informaci贸n del personaje encontrada.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Personajes'
        '404':
          description: Personaje no encontrado.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorID'
    delete:
      summary: Eliminar un personaje
      description: Esta funci贸n se encarga de eliminar un personaje del universo Marvel Rivals. Si la operaci贸n se realiza correctamente, la respuesta devuelve un c贸digo de estado 200 junto con un mensaje en formato JSON que confirma que el personaje fue eliminado exitosamente. En caso de que el personaje no exista o no se encuentre en el sistema, se responde con un c贸digo de estado 404 y un mensaje en el campo "detail" que indica que el personaje no fue encontrado.
      operationId: deletePersonaje
      tags:
        - personajes
      parameters:
        - name: id
          in: path
          required: true
          description: ID del personaje a eliminar
          schema:
            type: integer
            example: 1
      responses:
        '200':
          description: Personaje eliminado correctamente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: "Personaje eliminado correctamente"
        '404':
          description: Personaje no encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  detail:
                    type: string
                    example: "Personaje no encontrado"
components:
  schemas:
    Tweets:
      type: object
      required:
        - id
        - texto
        - autor
      properties:
        id:
          type: string
          example: "1945211837542244631"
        texto:
          type: string
          example: " Hero Balance Patch incoming on July 17 at 9:00 AM UTC! Check  out the full balance patch here >> https://t.co/EMQWAAXFU0"
        autor:
          type: string
          example: "1726712518155046912"
    TwitterErrorResponse:
      type: object
      properties:
        error:
          type: string
          example: "No se pudieron obtener los tweets, demasiados intentos"
        detalle:
          type: object
          properties:
            title:
              type: string
              example: "Too Many Requests"
            detail:
              type: string
              example: "Too Many Requests"
            type:
              type: string
              example: "about:blank"
            status:
              type: integer
              example: 429
    TwitterUnauthorizedResponse:
      type: object
      properties:
        error:
          type: string
          example: "No se pudieron obtener los tweets"
        detalle:
          type: object
          properties:
            title:
              type: string
              example: "Unauthorized"
            type:
              type: string
              example: "about:blank"
            status:
              type: integer
              example: 401
            detail:
              type: string
              example: "Unauthorized"
    PersonajesResError:
      type: object
      required:
      - message
      - status
      properties:
        mensaje_error:
          type: array
          items:
            type: string 
          example:
            - "El campo 'Nombre' es requerido. Field required"
    PersonajeYaExiste:
      type: object
      properties:
        detail:
          type: string
          example: Ya existe un personaje con el nombre 'Groot'
    PersonajesReqBody:
      type: object
      required:
      - Nombre
      - Universo
      - RolDePersonaje
      - Armas
      - Salud
      - origen
      properties:
        Nombre:
          type: string
          example: Groot
        Universo:
          type: string
          example: Marvel
        RolDePersonaje:
          type: string
          example: "Soporte"
        Armas:
          type: string
          example: "Ramas"
        Salud: 
          type: integer
          example: "120"
        origen: 
          type: object
          required: 
            - nombre
            - url
          properties:
            nombre: 
              type: string
              example: "Planeta X"
            url:
              type: string
              example: "https://marvel.com/groot"
    PersonajeRespuestaExitosa:
      type: object
      required:
      - mensaje
      - personaje
      properties:
        mensaje:
          type: string
          example: "Personaje agregado exitosamente"
        personaje:
          $ref: '#/components/schemas/Personajes'
    Personajes:
      type: object
      required:
      - id
      - Nombre
      - Universo
      - RolDePersonaje
      - Armas
      - Salud
      - origen
      - FechaCreacion
      properties:
        id:
          type: integer
          example: 1
        Nombre:
          type: string
          example: "Groot"
        Universo:
          type: string
          example: "Marvel"
        RolDePersonaje:
          type: string
          example: "Soporte"
        Armas:
          type: string
          example: "Ramas"
        Salud: 
          type: integer
          example: "120"
        origen: 
          type: object
          required: 
            - nombre
            - url
          properties:
            nombre: 
              type: string
              example: "Planeta X"
            url:
              type: string
              example: "https://marvel.com/groot"
        FechaCreacion:
          type: string
          example: "2025-06-24T20:31:24.099899"
    ErrorID:
      type: object
      properties:
        detail:
          type: string
          example: "No se encontr贸 el personaje con ID 1"
        
    Error:
      type: object
      properties:
        code:
        




      



